"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/visitors/route";
exports.ids = ["app/api/visitors/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fvisitors%2Froute&page=%2Fapi%2Fvisitors%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fvisitors%2Froute.js&appDir=C%3A%5CUsers%5CAhmed%5CDesktop%5CLounaRailTp%5Cars-dashboard%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CAhmed%5CDesktop%5CLounaRailTp%5Cars-dashboard&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fvisitors%2Froute&page=%2Fapi%2Fvisitors%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fvisitors%2Froute.js&appDir=C%3A%5CUsers%5CAhmed%5CDesktop%5CLounaRailTp%5Cars-dashboard%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CAhmed%5CDesktop%5CLounaRailTp%5Cars-dashboard&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_Ahmed_Desktop_LounaRailTp_ars_dashboard_src_app_api_visitors_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/visitors/route.js */ \"(rsc)/./src/app/api/visitors/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/visitors/route\",\n        pathname: \"/api/visitors\",\n        filename: \"route\",\n        bundlePath: \"app/api/visitors/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\Ahmed\\\\Desktop\\\\LounaRailTp\\\\ars-dashboard\\\\src\\\\app\\\\api\\\\visitors\\\\route.js\",\n    nextConfigOutput,\n    userland: C_Users_Ahmed_Desktop_LounaRailTp_ars_dashboard_src_app_api_visitors_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/visitors/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZ2aXNpdG9ycyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGdmlzaXRvcnMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZ2aXNpdG9ycyUyRnJvdXRlLmpzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNBaG1lZCU1Q0Rlc2t0b3AlNUNMb3VuYVJhaWxUcCU1Q2Fycy1kYXNoYm9hcmQlNUNzcmMlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUMlM0ElNUNVc2VycyU1Q0FobWVkJTVDRGVza3RvcCU1Q0xvdW5hUmFpbFRwJTVDYXJzLWRhc2hib2FyZCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDd0M7QUFDckg7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcnMtZGFzaGJvYXJkLz83YmY3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXEFobWVkXFxcXERlc2t0b3BcXFxcTG91bmFSYWlsVHBcXFxcYXJzLWRhc2hib2FyZFxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFx2aXNpdG9yc1xcXFxyb3V0ZS5qc1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvdmlzaXRvcnMvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS92aXNpdG9yc1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvdmlzaXRvcnMvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxBaG1lZFxcXFxEZXNrdG9wXFxcXExvdW5hUmFpbFRwXFxcXGFycy1kYXNoYm9hcmRcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcdmlzaXRvcnNcXFxccm91dGUuanNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3Zpc2l0b3JzL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fvisitors%2Froute&page=%2Fapi%2Fvisitors%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fvisitors%2Froute.js&appDir=C%3A%5CUsers%5CAhmed%5CDesktop%5CLounaRailTp%5Cars-dashboard%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CAhmed%5CDesktop%5CLounaRailTp%5Cars-dashboard&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/visitors/route.js":
/*!***************************************!*\
  !*** ./src/app/api/visitors/route.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst prisma = new _prisma_client__WEBPACK_IMPORTED_MODULE_1__.PrismaClient();\n// Fonction pour obtenir les informations de géolocalisation\nasync function getGeoLocation(ip) {\n    try {\n        // Utiliser ipapi.co pour la géolocalisation (gratuit)\n        const response = await fetch(`https://ipapi.co/${ip}/json/`);\n        const data = await response.json();\n        return {\n            country: data.country_name,\n            city: data.city,\n            region: data.region,\n            timezone: data.timezone\n        };\n    } catch (error) {\n        console.error(\"Erreur g\\xe9olocalisation:\", error);\n        return {\n            country: null,\n            city: null,\n            region: null,\n            timezone: null\n        };\n    }\n}\n// Fonction pour détecter le type d'appareil\nfunction detectDeviceType(userAgent) {\n    if (!userAgent) return \"unknown\";\n    const mobile = /Mobile|Android|iPhone|iPad|Windows Phone/i;\n    const tablet = /iPad|Android(?=.*\\bMobile\\b)(?=.*\\bSafari\\b)/i;\n    if (tablet.test(userAgent)) return \"tablet\";\n    if (mobile.test(userAgent)) return \"mobile\";\n    return \"desktop\";\n}\n// Fonction pour détecter le navigateur\nfunction detectBrowser(userAgent) {\n    if (!userAgent) return \"unknown\";\n    if (userAgent.includes(\"Chrome\")) return \"Chrome\";\n    if (userAgent.includes(\"Firefox\")) return \"Firefox\";\n    if (userAgent.includes(\"Safari\") && !userAgent.includes(\"Chrome\")) return \"Safari\";\n    if (userAgent.includes(\"Edge\")) return \"Edge\";\n    if (userAgent.includes(\"Opera\")) return \"Opera\";\n    return \"unknown\";\n}\n// Fonction pour détecter l'OS\nfunction detectOS(userAgent) {\n    if (!userAgent) return \"unknown\";\n    if (userAgent.includes(\"Windows\")) return \"Windows\";\n    if (userAgent.includes(\"Mac\")) return \"macOS\";\n    if (userAgent.includes(\"Linux\")) return \"Linux\";\n    if (userAgent.includes(\"Android\")) return \"Android\";\n    if (userAgent.includes(\"iOS\")) return \"iOS\";\n    return \"unknown\";\n}\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        const { pageUrl, pageTitle, sessionId, screenResolution, language, utmSource, utmMedium, utmCampaign, utmTerm, utmContent } = body;\n        // Obtenir l'IP du visiteur\n        const forwarded = request.headers.get(\"x-forwarded-for\");\n        const ip = forwarded ? forwarded.split(\",\")[0] : \"127.0.0.1\";\n        const userAgent = request.headers.get(\"user-agent\");\n        const referrer = request.headers.get(\"referer\");\n        // Obtenir la géolocalisation\n        const geoData = await getGeoLocation(ip);\n        // Détecter les informations techniques\n        const deviceType = detectDeviceType(userAgent);\n        const browser = detectBrowser(userAgent);\n        const os = detectOS(userAgent);\n        // Vérifier si c'est un visiteur de retour\n        const existingVisitor = await prisma.visitor.findFirst({\n            where: {\n                ipAddress: ip,\n                sessionId: sessionId\n            }\n        });\n        let visitor;\n        if (existingVisitor) {\n            // Mettre à jour le visiteur existant\n            visitor = await prisma.visitor.update({\n                where: {\n                    id: existingVisitor.id\n                },\n                data: {\n                    lastActivity: new Date(),\n                    isReturning: true,\n                    bounceRate: false\n                }\n            });\n        } else {\n            // Créer un nouveau visiteur\n            visitor = await prisma.visitor.create({\n                data: {\n                    ipAddress: ip,\n                    userAgent,\n                    referrer,\n                    pageUrl,\n                    sessionId,\n                    country: geoData.country,\n                    city: geoData.city,\n                    region: geoData.region,\n                    timezone: geoData.timezone,\n                    deviceType,\n                    browser,\n                    os,\n                    screenResolution,\n                    language,\n                    utmSource,\n                    utmMedium,\n                    utmCampaign,\n                    utmTerm,\n                    utmContent\n                }\n            });\n        }\n        // Créer une nouvelle page vue\n        await prisma.pageView.create({\n            data: {\n                visitorId: visitor.id,\n                pageUrl,\n                pageTitle\n            }\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            visitorId: visitor.id,\n            isReturning: visitor.isReturning\n        });\n    } catch (error) {\n        console.error(\"Erreur tracking visiteur:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Erreur lors du tracking\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function GET(request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        const page = parseInt(searchParams.get(\"page\")) || 1;\n        const limit = parseInt(searchParams.get(\"limit\")) || 20;\n        const skip = (page - 1) * limit;\n        // Obtenir les visiteurs avec leurs statistiques\n        const visitors = await prisma.visitor.findMany({\n            include: {\n                pageViews: {\n                    orderBy: {\n                        createdAt: \"desc\"\n                    },\n                    take: 1\n                },\n                _count: {\n                    select: {\n                        pageViews: true\n                    }\n                }\n            },\n            orderBy: {\n                createdAt: \"desc\"\n            },\n            skip,\n            take: limit\n        });\n        // Obtenir le total\n        const total = await prisma.visitor.count();\n        // Statistiques globales\n        const stats = await prisma.visitor.aggregate({\n            _count: {\n                id: true\n            },\n            _avg: {\n                visitDuration: true\n            }\n        });\n        const uniqueVisitors = await prisma.visitor.groupBy({\n            by: [\n                \"ipAddress\"\n            ],\n            _count: {\n                id: true\n            }\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            visitors,\n            pagination: {\n                page,\n                limit,\n                total,\n                pages: Math.ceil(total / limit)\n            },\n            stats: {\n                totalVisitors: stats._count.id,\n                uniqueVisitors: uniqueVisitors.length,\n                avgVisitDuration: stats._avg.visitDuration\n            }\n        });\n    } catch (error) {\n        console.error(\"Erreur r\\xe9cup\\xe9ration visiteurs:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Erreur lors de la r\\xe9cup\\xe9ration\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQ1EsSUFBSSxDQUFDO1lBQ3ZCOEQ7WUFDQWtCLFlBQVk7Z0JBQ1Z0QjtnQkFDQUU7Z0JBQ0FXO2dCQUNBVSxPQUFPQyxLQUFLQyxJQUFJLENBQUNaLFFBQVFYO1lBQzNCO1lBQ0FhLE9BQU87Z0JBQ0xXLGVBQWVYLE1BQU1KLE1BQU0sQ0FBQ3pCLEVBQUU7Z0JBQzlCaUMsZ0JBQWdCQSxlQUFlUSxNQUFNO2dCQUNyQ0Msa0JBQWtCYixNQUFNRSxJQUFJLENBQUNDLGFBQWE7WUFDNUM7UUFDRjtJQUVGLEVBQUUsT0FBT3RFLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLHdDQUFrQ0E7UUFDaEQsT0FBT2QscURBQVlBLENBQUNRLElBQUksQ0FDdEI7WUFBRU0sT0FBTztRQUFpQyxHQUMxQztZQUFFK0MsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcnMtZGFzaGJvYXJkLy4vc3JjL2FwcC9hcGkvdmlzaXRvcnMvcm91dGUuanM/MWQ0ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XHJcbmltcG9ydCB7IFByaXNtYUNsaWVudCB9IGZyb20gJ0BwcmlzbWEvY2xpZW50JztcclxuXHJcbmNvbnN0IHByaXNtYSA9IG5ldyBQcmlzbWFDbGllbnQoKTtcclxuXHJcbi8vIEZvbmN0aW9uIHBvdXIgb2J0ZW5pciBsZXMgaW5mb3JtYXRpb25zIGRlIGfDqW9sb2NhbGlzYXRpb25cclxuYXN5bmMgZnVuY3Rpb24gZ2V0R2VvTG9jYXRpb24oaXApIHtcclxuICB0cnkge1xyXG4gICAgLy8gVXRpbGlzZXIgaXBhcGkuY28gcG91ciBsYSBnw6lvbG9jYWxpc2F0aW9uIChncmF0dWl0KVxyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly9pcGFwaS5jby8ke2lwfS9qc29uL2ApO1xyXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgY291bnRyeTogZGF0YS5jb3VudHJ5X25hbWUsXHJcbiAgICAgIGNpdHk6IGRhdGEuY2l0eSxcclxuICAgICAgcmVnaW9uOiBkYXRhLnJlZ2lvbixcclxuICAgICAgdGltZXpvbmU6IGRhdGEudGltZXpvbmVcclxuICAgIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0VycmV1ciBnw6lvbG9jYWxpc2F0aW9uOicsIGVycm9yKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGNvdW50cnk6IG51bGwsXHJcbiAgICAgIGNpdHk6IG51bGwsXHJcbiAgICAgIHJlZ2lvbjogbnVsbCxcclxuICAgICAgdGltZXpvbmU6IG51bGxcclxuICAgIH07XHJcbiAgfVxyXG59XHJcblxyXG4vLyBGb25jdGlvbiBwb3VyIGTDqXRlY3RlciBsZSB0eXBlIGQnYXBwYXJlaWxcclxuZnVuY3Rpb24gZGV0ZWN0RGV2aWNlVHlwZSh1c2VyQWdlbnQpIHtcclxuICBpZiAoIXVzZXJBZ2VudCkgcmV0dXJuICd1bmtub3duJztcclxuICBcclxuICBjb25zdCBtb2JpbGUgPSAvTW9iaWxlfEFuZHJvaWR8aVBob25lfGlQYWR8V2luZG93cyBQaG9uZS9pO1xyXG4gIGNvbnN0IHRhYmxldCA9IC9pUGFkfEFuZHJvaWQoPz0uKlxcYk1vYmlsZVxcYikoPz0uKlxcYlNhZmFyaVxcYikvaTtcclxuICBcclxuICBpZiAodGFibGV0LnRlc3QodXNlckFnZW50KSkgcmV0dXJuICd0YWJsZXQnO1xyXG4gIGlmIChtb2JpbGUudGVzdCh1c2VyQWdlbnQpKSByZXR1cm4gJ21vYmlsZSc7XHJcbiAgcmV0dXJuICdkZXNrdG9wJztcclxufVxyXG5cclxuLy8gRm9uY3Rpb24gcG91ciBkw6l0ZWN0ZXIgbGUgbmF2aWdhdGV1clxyXG5mdW5jdGlvbiBkZXRlY3RCcm93c2VyKHVzZXJBZ2VudCkge1xyXG4gIGlmICghdXNlckFnZW50KSByZXR1cm4gJ3Vua25vd24nO1xyXG4gIFxyXG4gIGlmICh1c2VyQWdlbnQuaW5jbHVkZXMoJ0Nocm9tZScpKSByZXR1cm4gJ0Nocm9tZSc7XHJcbiAgaWYgKHVzZXJBZ2VudC5pbmNsdWRlcygnRmlyZWZveCcpKSByZXR1cm4gJ0ZpcmVmb3gnO1xyXG4gIGlmICh1c2VyQWdlbnQuaW5jbHVkZXMoJ1NhZmFyaScpICYmICF1c2VyQWdlbnQuaW5jbHVkZXMoJ0Nocm9tZScpKSByZXR1cm4gJ1NhZmFyaSc7XHJcbiAgaWYgKHVzZXJBZ2VudC5pbmNsdWRlcygnRWRnZScpKSByZXR1cm4gJ0VkZ2UnO1xyXG4gIGlmICh1c2VyQWdlbnQuaW5jbHVkZXMoJ09wZXJhJykpIHJldHVybiAnT3BlcmEnO1xyXG4gIFxyXG4gIHJldHVybiAndW5rbm93bic7XHJcbn1cclxuXHJcbi8vIEZvbmN0aW9uIHBvdXIgZMOpdGVjdGVyIGwnT1NcclxuZnVuY3Rpb24gZGV0ZWN0T1ModXNlckFnZW50KSB7XHJcbiAgaWYgKCF1c2VyQWdlbnQpIHJldHVybiAndW5rbm93bic7XHJcbiAgXHJcbiAgaWYgKHVzZXJBZ2VudC5pbmNsdWRlcygnV2luZG93cycpKSByZXR1cm4gJ1dpbmRvd3MnO1xyXG4gIGlmICh1c2VyQWdlbnQuaW5jbHVkZXMoJ01hYycpKSByZXR1cm4gJ21hY09TJztcclxuICBpZiAodXNlckFnZW50LmluY2x1ZGVzKCdMaW51eCcpKSByZXR1cm4gJ0xpbnV4JztcclxuICBpZiAodXNlckFnZW50LmluY2x1ZGVzKCdBbmRyb2lkJykpIHJldHVybiAnQW5kcm9pZCc7XHJcbiAgaWYgKHVzZXJBZ2VudC5pbmNsdWRlcygnaU9TJykpIHJldHVybiAnaU9TJztcclxuICBcclxuICByZXR1cm4gJ3Vua25vd24nO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0KSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcclxuICAgIGNvbnN0IHsgXHJcbiAgICAgIHBhZ2VVcmwsIFxyXG4gICAgICBwYWdlVGl0bGUsIFxyXG4gICAgICBzZXNzaW9uSWQsIFxyXG4gICAgICBzY3JlZW5SZXNvbHV0aW9uLCBcclxuICAgICAgbGFuZ3VhZ2UsXHJcbiAgICAgIHV0bVNvdXJjZSxcclxuICAgICAgdXRtTWVkaXVtLFxyXG4gICAgICB1dG1DYW1wYWlnbixcclxuICAgICAgdXRtVGVybSxcclxuICAgICAgdXRtQ29udGVudFxyXG4gICAgfSA9IGJvZHk7XHJcblxyXG4gICAgLy8gT2J0ZW5pciBsJ0lQIGR1IHZpc2l0ZXVyXHJcbiAgICBjb25zdCBmb3J3YXJkZWQgPSByZXF1ZXN0LmhlYWRlcnMuZ2V0KCd4LWZvcndhcmRlZC1mb3InKTtcclxuICAgIGNvbnN0IGlwID0gZm9yd2FyZGVkID8gZm9yd2FyZGVkLnNwbGl0KCcsJylbMF0gOiAnMTI3LjAuMC4xJztcclxuICAgIFxyXG4gICAgY29uc3QgdXNlckFnZW50ID0gcmVxdWVzdC5oZWFkZXJzLmdldCgndXNlci1hZ2VudCcpO1xyXG4gICAgY29uc3QgcmVmZXJyZXIgPSByZXF1ZXN0LmhlYWRlcnMuZ2V0KCdyZWZlcmVyJyk7XHJcblxyXG4gICAgLy8gT2J0ZW5pciBsYSBnw6lvbG9jYWxpc2F0aW9uXHJcbiAgICBjb25zdCBnZW9EYXRhID0gYXdhaXQgZ2V0R2VvTG9jYXRpb24oaXApO1xyXG5cclxuICAgIC8vIETDqXRlY3RlciBsZXMgaW5mb3JtYXRpb25zIHRlY2huaXF1ZXNcclxuICAgIGNvbnN0IGRldmljZVR5cGUgPSBkZXRlY3REZXZpY2VUeXBlKHVzZXJBZ2VudCk7XHJcbiAgICBjb25zdCBicm93c2VyID0gZGV0ZWN0QnJvd3Nlcih1c2VyQWdlbnQpO1xyXG4gICAgY29uc3Qgb3MgPSBkZXRlY3RPUyh1c2VyQWdlbnQpO1xyXG5cclxuICAgIC8vIFbDqXJpZmllciBzaSBjJ2VzdCB1biB2aXNpdGV1ciBkZSByZXRvdXJcclxuICAgIGNvbnN0IGV4aXN0aW5nVmlzaXRvciA9IGF3YWl0IHByaXNtYS52aXNpdG9yLmZpbmRGaXJzdCh7XHJcbiAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgaXBBZGRyZXNzOiBpcCxcclxuICAgICAgICBzZXNzaW9uSWQ6IHNlc3Npb25JZFxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBsZXQgdmlzaXRvcjtcclxuICAgIFxyXG4gICAgaWYgKGV4aXN0aW5nVmlzaXRvcikge1xyXG4gICAgICAvLyBNZXR0cmUgw6Agam91ciBsZSB2aXNpdGV1ciBleGlzdGFudFxyXG4gICAgICB2aXNpdG9yID0gYXdhaXQgcHJpc21hLnZpc2l0b3IudXBkYXRlKHtcclxuICAgICAgICB3aGVyZTogeyBpZDogZXhpc3RpbmdWaXNpdG9yLmlkIH0sXHJcbiAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgbGFzdEFjdGl2aXR5OiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgaXNSZXR1cm5pbmc6IHRydWUsXHJcbiAgICAgICAgICBib3VuY2VSYXRlOiBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBDcsOpZXIgdW4gbm91dmVhdSB2aXNpdGV1clxyXG4gICAgICB2aXNpdG9yID0gYXdhaXQgcHJpc21hLnZpc2l0b3IuY3JlYXRlKHtcclxuICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICBpcEFkZHJlc3M6IGlwLFxyXG4gICAgICAgICAgdXNlckFnZW50LFxyXG4gICAgICAgICAgcmVmZXJyZXIsXHJcbiAgICAgICAgICBwYWdlVXJsLFxyXG4gICAgICAgICAgc2Vzc2lvbklkLFxyXG4gICAgICAgICAgY291bnRyeTogZ2VvRGF0YS5jb3VudHJ5LFxyXG4gICAgICAgICAgY2l0eTogZ2VvRGF0YS5jaXR5LFxyXG4gICAgICAgICAgcmVnaW9uOiBnZW9EYXRhLnJlZ2lvbixcclxuICAgICAgICAgIHRpbWV6b25lOiBnZW9EYXRhLnRpbWV6b25lLFxyXG4gICAgICAgICAgZGV2aWNlVHlwZSxcclxuICAgICAgICAgIGJyb3dzZXIsXHJcbiAgICAgICAgICBvcyxcclxuICAgICAgICAgIHNjcmVlblJlc29sdXRpb24sXHJcbiAgICAgICAgICBsYW5ndWFnZSxcclxuICAgICAgICAgIHV0bVNvdXJjZSxcclxuICAgICAgICAgIHV0bU1lZGl1bSxcclxuICAgICAgICAgIHV0bUNhbXBhaWduLFxyXG4gICAgICAgICAgdXRtVGVybSxcclxuICAgICAgICAgIHV0bUNvbnRlbnRcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENyw6llciB1bmUgbm91dmVsbGUgcGFnZSB2dWVcclxuICAgIGF3YWl0IHByaXNtYS5wYWdlVmlldy5jcmVhdGUoe1xyXG4gICAgICBkYXRhOiB7XHJcbiAgICAgICAgdmlzaXRvcklkOiB2aXNpdG9yLmlkLFxyXG4gICAgICAgIHBhZ2VVcmwsXHJcbiAgICAgICAgcGFnZVRpdGxlXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IFxyXG4gICAgICBzdWNjZXNzOiB0cnVlLCBcclxuICAgICAgdmlzaXRvcklkOiB2aXNpdG9yLmlkLFxyXG4gICAgICBpc1JldHVybmluZzogdmlzaXRvci5pc1JldHVybmluZyBcclxuICAgIH0pO1xyXG5cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyZXVyIHRyYWNraW5nIHZpc2l0ZXVyOicsIGVycm9yKTtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgeyBlcnJvcjogJ0VycmV1ciBsb3JzIGR1IHRyYWNraW5nJyB9LFxyXG4gICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBzZWFyY2hQYXJhbXMgfSA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xyXG4gICAgY29uc3QgcGFnZSA9IHBhcnNlSW50KHNlYXJjaFBhcmFtcy5nZXQoJ3BhZ2UnKSkgfHwgMTtcclxuICAgIGNvbnN0IGxpbWl0ID0gcGFyc2VJbnQoc2VhcmNoUGFyYW1zLmdldCgnbGltaXQnKSkgfHwgMjA7XHJcbiAgICBjb25zdCBza2lwID0gKHBhZ2UgLSAxKSAqIGxpbWl0O1xyXG5cclxuICAgIC8vIE9idGVuaXIgbGVzIHZpc2l0ZXVycyBhdmVjIGxldXJzIHN0YXRpc3RpcXVlc1xyXG4gICAgY29uc3QgdmlzaXRvcnMgPSBhd2FpdCBwcmlzbWEudmlzaXRvci5maW5kTWFueSh7XHJcbiAgICAgIGluY2x1ZGU6IHtcclxuICAgICAgICBwYWdlVmlld3M6IHtcclxuICAgICAgICAgIG9yZGVyQnk6IHsgY3JlYXRlZEF0OiAnZGVzYycgfSxcclxuICAgICAgICAgIHRha2U6IDFcclxuICAgICAgICB9LFxyXG4gICAgICAgIF9jb3VudDoge1xyXG4gICAgICAgICAgc2VsZWN0OiB7IHBhZ2VWaWV3czogdHJ1ZSB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICBvcmRlckJ5OiB7IGNyZWF0ZWRBdDogJ2Rlc2MnIH0sXHJcbiAgICAgIHNraXAsXHJcbiAgICAgIHRha2U6IGxpbWl0XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBPYnRlbmlyIGxlIHRvdGFsXHJcbiAgICBjb25zdCB0b3RhbCA9IGF3YWl0IHByaXNtYS52aXNpdG9yLmNvdW50KCk7XHJcblxyXG4gICAgLy8gU3RhdGlzdGlxdWVzIGdsb2JhbGVzXHJcbiAgICBjb25zdCBzdGF0cyA9IGF3YWl0IHByaXNtYS52aXNpdG9yLmFnZ3JlZ2F0ZSh7XHJcbiAgICAgIF9jb3VudDogeyBpZDogdHJ1ZSB9LFxyXG4gICAgICBfYXZnOiB7IHZpc2l0RHVyYXRpb246IHRydWUgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgdW5pcXVlVmlzaXRvcnMgPSBhd2FpdCBwcmlzbWEudmlzaXRvci5ncm91cEJ5KHtcclxuICAgICAgYnk6IFsnaXBBZGRyZXNzJ10sXHJcbiAgICAgIF9jb3VudDogeyBpZDogdHJ1ZSB9XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICB2aXNpdG9ycyxcclxuICAgICAgcGFnaW5hdGlvbjoge1xyXG4gICAgICAgIHBhZ2UsXHJcbiAgICAgICAgbGltaXQsXHJcbiAgICAgICAgdG90YWwsXHJcbiAgICAgICAgcGFnZXM6IE1hdGguY2VpbCh0b3RhbCAvIGxpbWl0KVxyXG4gICAgICB9LFxyXG4gICAgICBzdGF0czoge1xyXG4gICAgICAgIHRvdGFsVmlzaXRvcnM6IHN0YXRzLl9jb3VudC5pZCxcclxuICAgICAgICB1bmlxdWVWaXNpdG9yczogdW5pcXVlVmlzaXRvcnMubGVuZ3RoLFxyXG4gICAgICAgIGF2Z1Zpc2l0RHVyYXRpb246IHN0YXRzLl9hdmcudmlzaXREdXJhdGlvblxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0VycmV1ciByw6ljdXDDqXJhdGlvbiB2aXNpdGV1cnM6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICB7IGVycm9yOiAnRXJyZXVyIGxvcnMgZGUgbGEgcsOpY3Vww6lyYXRpb24nIH0sXHJcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgKTtcclxuICB9XHJcbn0gIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsIlByaXNtYUNsaWVudCIsInByaXNtYSIsImdldEdlb0xvY2F0aW9uIiwiaXAiLCJyZXNwb25zZSIsImZldGNoIiwiZGF0YSIsImpzb24iLCJjb3VudHJ5IiwiY291bnRyeV9uYW1lIiwiY2l0eSIsInJlZ2lvbiIsInRpbWV6b25lIiwiZXJyb3IiLCJjb25zb2xlIiwiZGV0ZWN0RGV2aWNlVHlwZSIsInVzZXJBZ2VudCIsIm1vYmlsZSIsInRhYmxldCIsInRlc3QiLCJkZXRlY3RCcm93c2VyIiwiaW5jbHVkZXMiLCJkZXRlY3RPUyIsIlBPU1QiLCJyZXF1ZXN0IiwiYm9keSIsInBhZ2VVcmwiLCJwYWdlVGl0bGUiLCJzZXNzaW9uSWQiLCJzY3JlZW5SZXNvbHV0aW9uIiwibGFuZ3VhZ2UiLCJ1dG1Tb3VyY2UiLCJ1dG1NZWRpdW0iLCJ1dG1DYW1wYWlnbiIsInV0bVRlcm0iLCJ1dG1Db250ZW50IiwiZm9yd2FyZGVkIiwiaGVhZGVycyIsImdldCIsInNwbGl0IiwicmVmZXJyZXIiLCJnZW9EYXRhIiwiZGV2aWNlVHlwZSIsImJyb3dzZXIiLCJvcyIsImV4aXN0aW5nVmlzaXRvciIsInZpc2l0b3IiLCJmaW5kRmlyc3QiLCJ3aGVyZSIsImlwQWRkcmVzcyIsInVwZGF0ZSIsImlkIiwibGFzdEFjdGl2aXR5IiwiRGF0ZSIsImlzUmV0dXJuaW5nIiwiYm91bmNlUmF0ZSIsImNyZWF0ZSIsInBhZ2VWaWV3IiwidmlzaXRvcklkIiwic3VjY2VzcyIsInN0YXR1cyIsIkdFVCIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInVybCIsInBhZ2UiLCJwYXJzZUludCIsImxpbWl0Iiwic2tpcCIsInZpc2l0b3JzIiwiZmluZE1hbnkiLCJpbmNsdWRlIiwicGFnZVZpZXdzIiwib3JkZXJCeSIsImNyZWF0ZWRBdCIsInRha2UiLCJfY291bnQiLCJzZWxlY3QiLCJ0b3RhbCIsImNvdW50Iiwic3RhdHMiLCJhZ2dyZWdhdGUiLCJfYXZnIiwidmlzaXREdXJhdGlvbiIsInVuaXF1ZVZpc2l0b3JzIiwiZ3JvdXBCeSIsImJ5IiwicGFnaW5hdGlvbiIsInBhZ2VzIiwiTWF0aCIsImNlaWwiLCJ0b3RhbFZpc2l0b3JzIiwibGVuZ3RoIiwiYXZnVmlzaXREdXJhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/visitors/route.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fvisitors%2Froute&page=%2Fapi%2Fvisitors%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fvisitors%2Froute.js&appDir=C%3A%5CUsers%5CAhmed%5CDesktop%5CLounaRailTp%5Cars-dashboard%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CAhmed%5CDesktop%5CLounaRailTp%5Cars-dashboard&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();